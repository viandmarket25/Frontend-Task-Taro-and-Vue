{"version":3,"file":"pages/bubbleInfo/bubbleInfo.js","sources":["webpack:///./src/pages/bubbleInfo/bubbleInfo.vue?0443","webpack:///._src_components_searchNavbar_searchNavbar.vue","webpack:///._src_pages_bubbleInfo_bubbleInfo.vue","webpack:///./src/components/searchNavbar/searchNavbar.vue?4388","webpack:///./src/pages/bubbleInfo/bubbleInfo.vue?2675","webpack:///./src/components/searchNavbar/searchNavbar.vue?63a1","webpack:///./src/components/searchNavbar/searchNavbar.vue?49ee","webpack:///./src/components/searchNavbar/searchNavbar.vue?2936","webpack:///./src/components/searchNavbar/searchNavbar.vue?0f30","webpack:///./src/pages/bubbleInfo/bubbleInfo.vue?f0fc","webpack:///./src/pages/bubbleInfo/bubbleInfo.vue?e140","webpack:///./src/pages/bubbleInfo/bubbleInfo.vue?1552","webpack:///./src/pages/bubbleInfo/bubbleInfo.vue?d4c6"],"sourcesContent":["import { render } from \"./bubbleInfo.vue?vue&type=template&id=25ea05db\"\nimport script from \"./bubbleInfo.vue?vue&type=script&lang=js\"\nexport * from \"./bubbleInfo.vue?vue&type=script&lang=js\"\n\nimport \"./bubbleInfo.vue?vue&type=style&index=0&id=25ea05db&lang=scss\"\n\nimport exportComponent from \"/Users/mac/Documents/my-taro-nutui-app-main/node_modules/_vue-loader@16.8.3@vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__file',\"src/pages/bubbleInfo/bubbleInfo.vue\"]])\n/* hot reload */\nif (module.hot) {\n  __exports__.__hmrId = \"25ea05db\"\n  const api = __VUE_HMR_RUNTIME__\n  module.hot.accept()\n  if (!api.createRecord('25ea05db', __exports__)) {\n    console.log('reload')\n    api.reload('25ea05db', __exports__)\n  }\n  \n  module.hot.accept(\"./bubbleInfo.vue?vue&type=template&id=25ea05db\", () => {\n    console.log('re-render')\n    api.rerender('25ea05db', render)\n  })\n\n}\n\n\nexport default __exports__","<template>\n  <view class=\"search-input__navbar\">\n    <nut-icon name=\"left\" class=\"search-main-icon\" @click=\"handleBack\"></nut-icon>\n    <input\n      class=\"search-input\"\n      type=\"text\"\n      v-model=\"searchData\"\n      :placeholder=\"placeholder\"\n      :maxlength=\"10\"\n      @input=\"handleSearch\"\n      @change=\"handleSearch\"\n      @keyup.enter=\"handleEnter\"\n    />\n    <nut-icon name=\"close\" v-if=\"searchData\" class=\"search-input__close\" @click=\"handleClear\"></nut-icon>\n  </view>\n</template>\n<script>\nexport default {\n  name: 'searchNavbar',\n  props: {\n    placeholder: String,\n    value: String\n  },\n  emits: ['update:value', 'handleSearch'],\n  data() {\n    return {\n      searchData: ''\n    }\n  },\n  created() {\n    this.searchData = this.value\n  },\n  methods: {\n    handleBack() {\n      // 进入界面后返回上一页面\n      this.$Taro.navigateBack()\n    },\n    handleSearch() {\n      // 实现数据绑定\n      this.$emit('update:value', this.searchData)\n      this.$emit('handleSearch')\n    },\n    handleClear() {\n      this.searchData = ''\n      this.handleSearch()\n    },\n    handleEnter() {\n      // 处理回车事件\n      this.$emit('handleEnter', false)\n    }\n  }\n}\n</script>\n<style lang=\"scss\">\n.search-input__navbar {\n  display: flex;\n  padding: 10px;\n  height: 32px;\n  align-items: center;\n  position: relative;\n  .search-main-icon {\n    margin-right: 10px;\n  }\n  .search-input {\n    flex: 1;\n    border-bottom: 1px solid #a2a2a2;\n    font-size: 14px;\n    font-weight: bold;\n    padding: 3px 6px;\n    color: #494949;\n  }\n  .search-input__close {\n    position: absolute;\n    right: 20px;\n    font-size: 14px;\n    &:hover {\n      background-color: rgba(#000, 0.55);\n    }\n  }\n}\n</style>\n","<template>\n  <view class=\"search-wrapper\">\n    <!-- 搜索 Navbar -->\n    <searchNavbar v-model:value=\"searchData\" :placeholder=\"searchDefault\" @handleSearch=\"handleSearch\" @handleEnter=\"hanleToDetail\"></searchNavbar>\n    <template v-if=\"!searchStatus\">\n      <view class=\"search-tab\">\n        <view class=\"tab-item\">\n          <text class=\"tab-item-text active\">热搜榜</text>\n          <text class=\"tab-item-text\">视频榜</text>\n          <text class=\"tab-item-text\">播客榜</text>\n        </view>\n        <view class=\"tab-more\">\n          <nut-icon name=\"success\"></nut-icon>\n          <text>播放</text>\n        </view>\n      </view>\n      <view class=\"search-hot\" v-if=\"searchHotList.length !== 0\">\n        <view class=\"search-item\" v-for=\"(item, index) in expendStatus ? searchHotList : searchHotList.slice(0, 10)\" :key=\"index\">\n          <text class=\"hot-index\">{{ index + 1 }}</text>\n          <text class=\"hot-content\">{{ item.searchWord }}</text>\n          <image class=\"hot-image\" v-if=\"item.iconUrl\" :src=\"item.iconUrl\" />\n        </view>\n        <view class=\"expend\" @click=\"handleExpend\" v-if=\"!expendStatus\">\n          <text>展开更多热搜</text>\n          <nut-icon name=\"down-arrow\"></nut-icon>\n        </view>\n      </view>\n    </template>\n    <template v-else>\n      <view class=\"search-support\">\n        <view class=\"support-item\" v-for=\"(item, index) in searchList\" :key=\"index\" @click=\"hanleToDetail(item)\">\n          <nut-icon name=\"search\"></nut-icon>\n          <view class=\"support-item-title\">\n            <text class=\"active\">{{ searchData }}</text>\n            <text>{{ item.keyword.replace(searchData, '') }}</text>\n          </view>\n        </view>\n      </view>\n    </template>\n  </view>\n</template>\n<script>\nimport searchNavbar from '../../components/searchNavbar/searchNavbar.vue'\nexport default {\n  name: 'search',\n  components: { searchNavbar },\n  data() {\n    return {\n      searchData: '',\n      searchDefault: '', // 默认搜索关键词\n      searchList: [], // 搜索推荐\n      searchHotList: [], // 热搜列表\n      expendStatus: false,\n      searchStatus: false\n    }\n  },\n  created() {\n    this.getSearchDefault()\n    this.getSearhHotData()\n  },\n  methods: {\n    handleBack() {\n      // 进入界面后返回上一页面\n      this.$Taro.navigateBack()\n    },\n    async getSearchDefault() {\n      // 获取默认搜索关键词\n      const res = await this.$ajax.get('/search/default')\n      this.searchDefault = res.data.showKeyword\n    },\n    async handleSearch() {\n      // 处理搜索事件\n      this.searchStatus = true\n      await this.$ajax.get('/search/suggest', { keywords: this.searchData, type: 'mobile' }).then(res => {\n        if (res.code == 200) {\n          this.searchList = res.result.allMatch || []\n        }\n      })\n      if (this.searchList.length == 0 || !this.searchData) this.searchStatus = false\n    },\n    async getSearhHotData() {\n      const res = await this.$ajax.get('/search/hot/detail')\n      this.searchHotList = res.data\n    },\n    handleExpend() {\n      this.expendStatus = true\n    },\n    debounce(fn, ms = 500) {\n      let timeoutId\n      return function(...args) {\n        clearTimeout(timeoutId)\n        timeoutId = setTimeout(() => fn.apply(this, args), ms)\n      }\n    },\n    hanleToDetail(item) {\n      if (!this.searchData) this.searchData = this.searchDefault\n      const keywords = item ? item.keyword : this.searchData\n      // 根据搜索结果进入详情页\n      this.$Taro.redirectTo({\n        url: '/pages/searchDetail/searchDetail' + `?keywords=${keywords}`\n      })\n    }\n  }\n}\n</script>\n<style lang=\"scss\">\n.search-wrapper {\n  // background-color: #eee;\n  height: 100vh;\n}\n.search-hot {\n  font-size: 14px;\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-evenly;\n  padding: 10px;\n  margin: 0 10px 10px 10px;\n  background-color: #fff;\n  box-shadow: 0px 2px 4px #eee, 0px -2px 4px rgba($color: #000000, $alpha: 0.1);\n  border-radius: 10px;\n  .hot-image {\n    //处理 hot 图片显示\n    width: auto;\n    height: 14px;\n  }\n  .search-item {\n    // item 处理\n    width: 48%;\n    display: flex;\n    align-items: center;\n    .hot-index {\n      width: 24px;\n      height: 32px;\n      text-align: center;\n      line-height: 32px;\n    }\n    .hot-content {\n      padding-right: 10px;\n      max-width: 100px;\n      overflow: hidden;\n      white-space: nowrap;\n      text-overflow: ellipsis;\n    }\n    &:nth-child(-n + 3) {\n      .hot-index {\n        color: #e60026;\n      }\n      .hot-content {\n        font-weight: 900;\n      }\n    }\n  }\n  .expend {\n    width: 100%;\n    display: flex;\n    font-size: 12px;\n    margin-top: 10px;\n    justify-content: center;\n    align-items: center;\n    color: #a2a2a2;\n\n    letter-spacing: 1px;\n  }\n}\n.search-tab {\n  // 榜单 样式\n  padding: 10px;\n  display: flex;\n  justify-content: space-between;\n  font-size: 14px;\n  .tab-item {\n    .tab-item-text {\n      padding-right: 20px;\n      color: #a2a2a2;\n    }\n    .active {\n      color: #000;\n      font-weight: 900;\n    }\n  }\n  .tab-more {\n    border: 1px solid #eee;\n    border-radius: 10px;\n    display: flex;\n    align-items: center;\n    padding: 2px 6px;\n    font-size: 12px;\n  }\n}\n.search-support {\n  // 搜索推荐样式\n  padding: 10px;\n  .support-item {\n    display: flex;\n    align-items: center;\n    .nut-icon {\n      padding: 10px 10px 10px 0;\n      color: #a2a2a2;\n    }\n    .support-item-title {\n      flex: 1;\n      font-size: 14px;\n      border-bottom: 1px solid rgba($color: #a2a2a2, $alpha: 0.4);\n      .active {\n        color: #a2a2a2;\n      }\n    }\n  }\n}\n</style>\n","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","import { render } from \"./searchNavbar.vue?vue&type=template&id=511b0d62\"\nimport script from \"./searchNavbar.vue?vue&type=script&lang=js\"\nexport * from \"./searchNavbar.vue?vue&type=script&lang=js\"\n\nimport \"./searchNavbar.vue?vue&type=style&index=0&id=511b0d62&lang=scss\"\n\nimport exportComponent from \"/Users/mac/Documents/my-taro-nutui-app-main/node_modules/_vue-loader@16.8.3@vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__file',\"src/components/searchNavbar/searchNavbar.vue\"]])\n/* hot reload */\nif (module.hot) {\n  __exports__.__hmrId = \"511b0d62\"\n  const api = __VUE_HMR_RUNTIME__\n  module.hot.accept()\n  if (!api.createRecord('511b0d62', __exports__)) {\n    console.log('reload')\n    api.reload('511b0d62', __exports__)\n  }\n  \n  module.hot.accept(\"./searchNavbar.vue?vue&type=template&id=511b0d62\", () => {\n    console.log('re-render')\n    api.rerender('511b0d62', render)\n  })\n\n}\n\n\nexport default __exports__","export { default } from \"-!../../../node_modules/_babel-loader@8.2.1@babel-loader/lib/index.js!../../../node_modules/_vue-loader@16.8.3@vue-loader/dist/index.js??ref--10-0!./searchNavbar.vue?vue&type=script&lang=js\"; export * from \"-!../../../node_modules/_babel-loader@8.2.1@babel-loader/lib/index.js!../../../node_modules/_vue-loader@16.8.3@vue-loader/dist/index.js??ref--10-0!./searchNavbar.vue?vue&type=script&lang=js\"","export * from \"-!../../../node_modules/_mini-css-extract-plugin@0.8.0@mini-css-extract-plugin/dist/loader.js!../../../node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js??ref--1-oneOf-1-1!../../../node_modules/_vue-loader@16.8.3@vue-loader/dist/stylePostLoader.js!../../../node_modules/_postcss-loader@4.3.0@postcss-loader/dist/cjs.js??ref--1-oneOf-1-2!../../../node_modules/_resolve-url-loader@4.0.0@resolve-url-loader/index.js!../../../node_modules/_sass-loader@10.1.1@sass-loader/dist/cjs.js??ref--1-oneOf-1-4!../../../node_modules/_vue-loader@16.8.3@vue-loader/dist/index.js??ref--10-0!./searchNavbar.vue?vue&type=style&index=0&id=511b0d62&lang=scss\"","export * from \"-!../../../node_modules/_babel-loader@8.2.1@babel-loader/lib/index.js!../../../node_modules/_vue-loader@16.8.3@vue-loader/dist/templateLoader.js??ref--6!../../../node_modules/_vue-loader@16.8.3@vue-loader/dist/index.js??ref--10-0!./searchNavbar.vue?vue&type=template&id=511b0d62\"","import { createPageConfig } from '@tarojs/runtime'\nimport component from \"../../../node_modules/_@tarojs_taro-loader@3.3.10@@tarojs/taro-loader/lib/raw.js!./bubbleInfo.vue\"\nvar config = {\"navigationBarTitleText\":\"搜索\"};\n\n\nvar inst = Page(createPageConfig(component, 'pages/bubbleInfo/bubbleInfo', {root:{cn:[]}}, config || {}))\n\n","export { default } from \"-!../../../node_modules/_babel-loader@8.2.1@babel-loader/lib/index.js!../../../node_modules/_vue-loader@16.8.3@vue-loader/dist/index.js??ref--10-0!./bubbleInfo.vue?vue&type=script&lang=js\"; export * from \"-!../../../node_modules/_babel-loader@8.2.1@babel-loader/lib/index.js!../../../node_modules/_vue-loader@16.8.3@vue-loader/dist/index.js??ref--10-0!./bubbleInfo.vue?vue&type=script&lang=js\"","export * from \"-!../../../node_modules/_mini-css-extract-plugin@0.8.0@mini-css-extract-plugin/dist/loader.js!../../../node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js??ref--1-oneOf-1-1!../../../node_modules/_vue-loader@16.8.3@vue-loader/dist/stylePostLoader.js!../../../node_modules/_postcss-loader@4.3.0@postcss-loader/dist/cjs.js??ref--1-oneOf-1-2!../../../node_modules/_resolve-url-loader@4.0.0@resolve-url-loader/index.js!../../../node_modules/_sass-loader@10.1.1@sass-loader/dist/cjs.js??ref--1-oneOf-1-4!../../../node_modules/_vue-loader@16.8.3@vue-loader/dist/index.js??ref--10-0!./bubbleInfo.vue?vue&type=style&index=0&id=25ea05db&lang=scss\"","export * from \"-!../../../node_modules/_babel-loader@8.2.1@babel-loader/lib/index.js!../../../node_modules/_vue-loader@16.8.3@vue-loader/dist/templateLoader.js??ref--6!../../../node_modules/_vue-loader@16.8.3@vue-loader/dist/index.js??ref--10-0!./bubbleInfo.vue?vue&type=template&id=25ea05db\""],"mappings":";;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAcA;AACA;AACA;AACA;;;;;;;;;;;;;ACTA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;AADA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAjBA;AAfA;;;;;;;;;;;;;;;;;;ACyBA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AACA;AANA;AAQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAEA;AACA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AACA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAFA;AAAA;AAGA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AARA;AAQA;AACA;AATA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA;AACA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AACA;AACA;AACA;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AAGA;AAzCA;AAjBA;;;;;;;;;;;;;;;;;;AD1CA;;;;;;AAAA;AACA;AAAA;AAAA;AAAA;;AAAA;AAEA;AACA;;AACA;AAMA;AALA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;;AATA;AAUA;AAAA;AAAA;AAAA;AAAA;;AAAA;;;;;;;;;;;;;;;;;;;ACZA;;;AAIA;;;AACA;AAAA;AAIA;AAHA;AAAA;AACA;AAAA;AACA;AAAA;;AAHA;AACA;;AAIA;;;AAEA;AAAA;AAAA;AACA;;;AAEA;;;AAEA;;;AACA;;;;AAIA;AAAA;AAAA;AACA;;;AAKA;;;;AAGA;;;AACA;;;;;;;AAhCA;AAEA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAwBA;AAAA;AAfA;AAAA;AAKA;AAAA;AAAA;AAIA;AAHA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;;AAAA;AACA;;AAJA;AAQA;AAHA;AAAA;AAAA;AAAA;AAGA;AADA;AAAA;;AApBA;AA0BA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AALA;AAAA;AAEA;AAAA;AACA;AAAA;;AAJA;AAMA;;AANA;;;;;;;;;;;;AC9BA;;;;;;;;;;;ACAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAcA;AACA;AACA;AACA;;;;;;;;;;;;;AC1BA;AAAA;AAAA;AAAA;;;;;;;;;;;;ACAA;AAAA;AAAA;;;;;;;;;;;;;;ACAA;AAAA;AAAA;;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACNA;AAAA;AAAA;AAAA;;;;;;;;;;;;ACAA;AAAA;AAAA;;;;;;;;;;;;;;ACAA;AAAA;AAAA;;;;;A","sourceRoot":""}